:root {
  --header-height: 64px;
  --bottom-height: 72px;
  --content-padding: 16px;
}

/* ensure the app root can use full viewport height */
html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
}

/* Layout shell */
.main-layout {
  min-height: 100vh;
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--maxui-bg, #ffffff);
  color: var(--maxui-text, #0f1724);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* fixed header */
.main-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--header-height);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 16px;
  z-index: 1000;
  background: var(--maxui-bg, #ffffff);
  border-bottom: 1px solid var(--maxui-border, #e5e7eb);
  box-sizing: border-box;
}

/* Убрали декоративный watermark */
.main-header::before {
  display: none;
}

.main-header-left, 
.main-header-right {
  display: flex;
  align-items: center;
  min-height: 48px;
}

/* Основной контент */
.main-content {
  flex: 1;
  width: 100%;
  max-width: 100%;
  margin: 0 auto;
  padding: var(--content-padding);
  margin-top: var(--header-height);
  margin-bottom: var(--bottom-height);
  overflow-y: auto;
  box-sizing: border-box;
  -webkit-overflow-scrolling: touch;
}

/* Визуальные карточки */
.main-layout .admin-card {
  border-radius: 12px;
  border: 1px solid var(--maxui-border, #e5e7eb);
  background: var(--maxui-surface, #ffffff);
}

/* Фиксированная нижняя панель вкладок */
.main-bottom-tabs {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  height: var(--bottom-height);
  padding: 8px 12px;
  z-index: 1000;
  background: var(--maxui-bg, #ffffff);
  border-top: 1px solid var(--maxui-border, #e5e7eb);
  box-sizing: border-box;
}

/* Внутренняя панель для вкладок */
.tabs-panel {
  width: 100%;
  border-radius: 12px;
  padding: 4px;
  box-sizing: border-box;
  background: var(--maxui-surface-secondary, #f8fafc);
}

/* Элементы вкладок */
.tab-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 4px 0;
}

.tab-icon {
  font-size: 20px;
  line-height: 1;
}

.tab-label {
  font-size: 11px;
  font-weight: 500;
  line-height: 1.2;
  color: var(--maxui-muted, #6b7280);
}

.tab-button.active .tab-label {
  color: var(--maxui-primary, #0ea5e9);
  font-weight: 600;
}

/* Адаптивность */
@media (max-width: 680px) {
  :root {
    --header-height: 56px;
    --bottom-height: 68px;
    --content-padding: 12px;
  }
  
  .main-header {
    padding: 6px 12px;
  }
  
  .main-bottom-tabs {
    padding: 6px 10px;
  }
  
  .tab-icon {
    font-size: 18px;
  }
  
  .tab-label {
    font-size: 10px;
  }
}

/* Учет безопасных зон для iOS */
@supports (padding: max(0px)) {
  .main-header {
    padding-top: max(8px, env(safe-area-inset-top));
    padding-left: max(16px, env(safe-area-inset-left));
    padding-right: max(16px, env(safe-area-inset-right));
  }
  
  .main-bottom-tabs {
    padding-bottom: max(8px, env(safe-area-inset-bottom));
  }
}

/* Темная тема */
@media (prefers-color-scheme: dark) {
  .main-layout {
    background: var(--maxui-bg, #0b0b0b);
    color: var(--maxui-text, #e6eef8);
  }
  
  .main-header {
    background: var(--maxui-bg, #0b0b0b);
    border-bottom-color: var(--maxui-border, #1f2937);
  }
  
  .main-bottom-tabs {
    background: var(--maxui-bg, #0b0b0b);
    border-top-color: var(--maxui-border, #1f2937);
  }
  
  .tabs-panel {
    background: var(--maxui-surface-secondary, #111827);
  }
}